/*! @comsemrel/typescript-vfs-compiler v0.1.0 | (c) 2017 undefined | MIT license (see LICENSE) */
"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function handleErrors(e,t){var r=typescript.getPreEmitDiagnostics(e).concat(t.diagnostics),n=!1;if(r.forEach(function(e){var t=e.file.getLineAndCharacterOfPosition(e.start),r=t.line,i=t.character,o=typescript.flattenDiagnosticMessageText(e.messageText,"\n"),a=chalk.blue("[Info]"),s="log";e.category===typescript.DiagnosticCategory.Warning?(a=chalk.yellow("[Warning]"),s="warn"):e.category===typescript.DiagnosticCategory.Error&&(a=chalk.red("[Error]"),s="error",n=!0),console[s](a+" "+e.file.fileName+" ("+(r+1)+","+(i+1)+"): "+o)}),n||t.emitSkipped)throw new Error("Compilation was unsuccessful!")}function compiler$1(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({},e),n=new CompilerHost(r),i=typescript.createProgram(t.entry||["index.ts"],t,n);return handleErrors(i,i.emit()),r}Object.defineProperty(exports,"__esModule",{value:!0});var fs=require("fs"),typescript=require("typescript"),chalk=_interopDefault(require("chalk")),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),CompilerHost=function(){function e(t){if(classCallCheck(this,e),!t||"object"!==(void 0===t?"undefined":_typeof(t))||Array.isArray(t))throw new TypeError("First parameter must be an object.");this.files=t}return createClass(e,[{key:"fileExists",value:function(e){return void 0!==this.files[e]||fs.existsSync(e)}},{key:"getCanonicalFileName",value:function(e){return String(e)}},{key:"getCurrentDirectory",value:function(){return""}},{key:"getDefaultLibFileName",value:function(e){return typescript.getDefaultLibFilePath(e)}},{key:"getNewLine",value:function(){return"\n"}},{key:"getSourceFile",value:function(e,t){var r=e.indexOf("lib.d.ts")!==-1&&e.indexOf("/")!==-1?fs.readFileSync(e,"utf8"):this.files[e];return typescript.createSourceFile(e,r,t,"1.0",!0)}},{key:"useCaseSensitiveFileNames",value:function(){return!0}},{key:"writeFile",value:function(e,t){this.files[e]=t}}]),e}();exports.default=compiler$1,exports.CompilerHost=CompilerHost,exports.handleErrors=handleErrors;
//# sourceMappingURL=compiler.js.map
